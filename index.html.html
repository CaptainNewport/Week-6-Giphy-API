<html>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">

<!--HTML area for buttons that summon gifs-->
<div id=gifButtonArea>

</div>

<!--Input html for new GIFs-->
<h1>
Type in GIF 
<input id="text" type="text">
</h1>
<br>

<!--HTML for button-->

<button id="submit" value="Submit">Gif Button</button> 
<!--So why is there a gifOuterArea and a gifInnerArea, well it was part of a test and I'm too afraid to tear it apart because I'm down to the wire. I get it I have a problem.-->
<!--Where gifs are appended into and cleared out of as gifButtons are clicked-->
<div id="gifOuterArea">
  <div id="gifInnerArea">
  </div>
</div>



 <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script type="text/javascript">
//I swear to God if this thing is messing up my array pushes... This function is for ensuring the HTML is loaded first before running the script
$(document).ready(function(){
  //array created with initial animal variables
    gifButtonsArray=["cat", "dog", "bird"];
  
    for (var x = 0; gifButtonsArray.length > x; x++) {
    var gifButton = $("<button>");
    //Element is selected above and a class, id, value, and text are attributed to the gifButton variable/object
    gifButton.addClass("click-button");
    gifButton.attr("id", gifButtonsArray[x]);
    gifButton.attr("value",gifButtonsArray[x]);
    gifButton.text(gifButtonsArray[x]);
    //gifButton is appended to the gifButtonArea
    $("#gifButtonArea").append(gifButton);
  }


  $("#submit").on("click", function() {  
    //this click handler and following code handles adding new buttons and arrays objects to the gifButtonArray
    $("#gifButtonArea").empty();
    //the above function clears the html
    var name = $("#text").val().trim();
    //name is taken from the input and pushed into the gifButtonsArray
    gifButtonsArray.push(name);
    console.log(gifButtonsArray);
    //for loop repeated from earlier to repeat population of buttons in html, unfortunately, NONE OF THEM WORM BECUASE I THINK IT HAS SOMETHING TO DO WITH THE ORDER OR WITH THE DOCUMENT.READY PORTION
    for (var x = 0; gifButtonsArray.length > x; x++) {
      var gifButton = $("<button>");
      gifButton.addClass("click-button");
      gifButton.attr("id", gifButtonsArray[x]);
      gifButton.attr("value",gifButtonsArray[x]);
      gifButton.attr("id", gifButtonsArray[x]);
      gifButton.text(gifButtonsArray[x]);
      $("#gifButtonArea").append(gifButton);
  }
  });


  $(".click-button").on("click", function(){
    //This grabs the text from the buttons to create gifs
    var text = $(this).text();
    $("#gifInnerArea").empty();
    console.log(text);
    //Creates the URL that we use to pull from Giphy
    var queryURL= "http://api.giphy.com/v1/gifs/search?q="+text+"&api_key=dc6zaTOxFJmzC&limit=10&rating=g"
    //ajax function gets the object data using the queryURL
    $.ajax({
      url: queryURL,
      method: 'GET'
    }).done(function(response) {
      console.log(response);
    //This is the "for" loop to go through the API data, it is currently set to the fixed image small still url
    for (var i = 0; response.data.length > i; i++) {
    var imageUrl = response.data[i].images.fixed_height_small_still.url;
     var gifImage = $("<img>");
     var gifRating = $("<p>");
        gifImage.attr("src", imageUrl);
        gifRating.text(response.data[i].rating);
        $("#gifInnerArea").append(gifImage);
        $("#gifInnerArea").append(gifRating);
        gifImage.addClass("click-image");
    }
    });
  });
 });
  
  </script>


</html>

